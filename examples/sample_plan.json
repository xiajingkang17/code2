{
  "problem_full_text": "设数列 {a_n} 满足 a_1=3，且 a_{n+1}/n = a_n/(n+1) + 1/(n(n+1))。\n(1) 证明：{n a_n} 为等差数列；\n(2) 设 f(x)=a_1 x + a_2 x^2 + ⋯ + a_n x^n，求 f'(−2)。",
  "stem": "设数列 {a_n} 满足 a_1=3，且 a_{n+1}/n = a_n/(n+1) + 1/(n(n+1))。",
  "questions": [
    {
      "question_text": "证明：{n a_n} 为等差数列。",
      "visual": {
        "objects": [
          {"id": "plane", "type": "plane", "angle": 30},
          {"id": "block", "type": "block", "pos": 0.55},
          {"id": "G", "type": "force", "dir": "down", "label": "mg"}
        ]
      },
      "analysis": {
        "formulas": ["a_{n+1}/n = a_n/(n+1) + 1/(n(n+1))", "b_n = n a_n"],
        "conditions": ["a_1 = 3"],
        "strategy": ["设 b_n = n a_n 化简递推式", "证明 b_{n+1}-b_n 为常数"]
      },
      "steps": [
        {"line": "n(n+1)\\,a_{n+1} = n^2\\,a_n + 1", "subtitle": "把递推式两边乘以 n(n+1) 化简。"},
        {"line": "(n+1)\\,a_{n+1} = n\\,a_n + 1", "subtitle": "整理后得到更简洁的递推关系。"},
        {"line": "b_n = n a_n", "subtitle": "设 b_n = n a_n 转化为新数列。"},
        {"line": "b_{n+1} = b_n + 1", "subtitle": "代入得到 b_{n+1}-b_n=1，为常数。"},
        {"line": "b_1 = 3,\\ d=1", "subtitle": "首项 b_1=1\\cdot a_1=3，公差为 1。"},
        {"line": "b_n = 3+(n-1) = n+2", "subtitle": "因此 {b_n} 为等差数列。"}
      ]
    },
    {
      "question_text": "设 f(x)=a_1 x + a_2 x^2 + ⋯ + a_n x^n，求 f'(−2)。",
      "visual": {
        "objects": [
          {"id": "plane", "type": "plane", "angle": 37},
          {"id": "block", "type": "block", "pos": 0.6},
          {"id": "F", "type": "force", "dir": "up_slope", "label": "F"},
          {"id": "f", "type": "force", "dir": "down_slope", "label": "f"},
          {"id": "N", "type": "force", "dir": "normal", "label": "N"},
          {"id": "G", "type": "force", "dir": "down", "label": "mg"}
        ]
      },
      "analysis": {
        "formulas": [
          "a_n = b_n/n = (n+2)/n = 1+2/n",
          "f'(x)=\\sum_{k=1}^n k a_k x^{k-1}",
          "\\sum_{k=1}^n k r^{k-1} = \\frac{1-(n+1)r^n+nr^{n+1}}{(1-r)^2}"
        ],
        "conditions": ["b_n = n+2"],
        "strategy": ["先写出 a_k", "把 f'(x) 分成两类求和", "代入 r=-2 计算"]
      },
      "steps": [
        {"line": "a_k = 1+\\frac{2}{k}", "subtitle": "由 b_k=n a_k=k+2 得到 a_k 的通项。"},
        {"line": "f'(x)=\\sum_{k=1}^n k a_k x^{k-1}", "subtitle": "对 f(x) 逐项求导。"},
        {"line": "f'(x)=\\sum_{k=1}^n k x^{k-1}+2\\sum_{k=1}^n x^{k-1}", "subtitle": "代入 a_k=1+2/k 并拆成两类求和。"},
        {"line": "S_1=\\sum_{k=1}^n k r^{k-1}=\\frac{1-(n+1)r^n+nr^{n+1}}{(1-r)^2}", "subtitle": "使用等比数列加权求和公式。"},
        {"line": "S_2=\\sum_{k=1}^n r^{k-1}=\\frac{1-r^n}{1-r}", "subtitle": "等比数列求和公式。"},
        {"line": "f'(-2)=S_1+2S_2\\Big|_{r=-2}", "subtitle": "令 r=-2 代入。"},
        {"line": "f'(-2)=\\frac{7-(3n+7)(-2)^n}{9}", "subtitle": "化简得到结果。"}
      ]
    }
  ]
}
